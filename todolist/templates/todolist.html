{% extends 'base.html' %}

{% block content %}
  <div class="title-container">
    <h1 class="title">My Own TodoList: PBP Assignment 4</h1>
  </div>

<p>
    Greetings, {{ user.get_username }}!
</p>

<button><a href="{% url 'todolist:create_todolist' %}">Create New Task</a></button>

<br></br>

  <table class="table">
    <tr class="table-header-row">
      <th class="table-header-cell">Date</th>
      <th class="table-header-cell">Title</th>
      <th class="table-header-cell">Description</th>
      <th class="table-header-cell">Is Finished</th>
      <th class="table-header-cell">Button Is Finished</th>
      <th class="table-header-cell">Button Delete</th>
    </tr>

    {% comment %} Add the data below this line {% endcomment %}
    
    {% for data in list_todolist %}
      <tr class="table-row">
        <th class="table-cell">{{ data.date }}</th>
        <th class="table-cell">{{ data.title }}</th>
        <th class="table-cell">{{ data.description }}</th>
        <th class="table-cell">
          {% if data.is_finished %}
            <p>
              Yes, It's Finished
            </p>
            {% else %}
            <p>
              No, It's Not Finished
            </p>
            {% endif %}
        </th>
        <th class="table-cell">
          <a class="button" href="{% url 'todolist:update_todolist' data.id %}">
            Update Task
          </a>
        </th>
        <th class="table-cell">
          <a class="button" href="{% url 'todolist:delete_todolist' data.id %}">
            Delete Task
          </a>
        </th>
      </tr>
    {% endfor %}

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<button><a href="{% url 'todolist:logout' %}">Log Out</a></button>

{% endblock content %}